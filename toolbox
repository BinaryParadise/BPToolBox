#!/usr/bin/ruby -W0
require 'fileutils'
require 'json'
require 'yaml'
require 'xcodeproj'
require_relative './lib/param'
require_relative './lib/switch'
require_relative './lib/confuse'
require_relative './lib/image'
require_relative './lib/pod'

VERSION = "0.1.8"

# author: Rake Yang
# iOS工具箱
# 2019-09-19
class PBToolbox
  def initialize(args)
    if args[0].eql?('-v')
      puts PBUtil.info("toolbox #{VERSION} (last commit 2019-11-11)")
      return;
    end
    param = PBParam::new(args)
    if param.actionType.eql?(ACTION_TYPE_SWITCH)
      PBSwitch::new(param)
    elsif param.actionType.eql?(ACTION_TYPE_IMAGE)
      PBImage::new(param)
    elsif param.actionType.eql?(ACTION_TYPE_PREFIX)
      PBConfuse::new(param)
    elsif param.actionType.eql?(ACTINO_TYPE_POD)
      PBPodUtility::new(param)
    end
  end

end

PBToolbox::new(ARGV)
